<h1>All Computers</h1>
<table id="products" class="table table-striped table-bordered table-hover table-condensed table-responsive" >
  <tr>
    <th><input type="checkbox" onclick="toggle_checkall('machine_cabinet', this.checked);"></th>
    <th>Asset Number</th>
    <th></th>
    <th></th>
  </tr>
<% @machine_cabinets.each do |machine_cabinet| %>
  <tr>
    <td><%= check_box_tag "machine_cabinet_ids[]", machine_cabinet.id %></td>
    <td><%= link_to machine_cabinet.number, machine_cabinet %></td>
    <td><%= link_to "Edit", edit_machine_cabinet_path(id: machine_cabinet.id) %></td>
    <td><%= link_to "Delete", machine_cabinet, method: :delete,
                                  data: { confirm: "You sure?" } %></td>
  </tr>
<% end %>
</table>
<%= submit_tag "Delete Checked" %>

<script>
function toggle_checkall(field_name, state) {
  var checkboxes = document.getElementsByTagName('input');
  var count = checkboxes.length;
  for (var i = 0; i < count; i++) {
    if (checkboxes[i].type == "checkbox"
        && checkboxes[i].name == field_name + "_ids[]") {
      checkboxes[i].checked = state;
    }
  }
}
</script>
